package com.ktb.dcb.report.service

import net.sf.jasperreports.engine.JasperExportManager
import net.sf.jasperreports.engine.JasperFillManager
import net.sf.jasperreports.engine.data.JRBeanCollectionDataSource
import org.springframework.http.HttpHeaders
import org.springframework.http.MediaType
import org.springframework.http.ResponseEntity
import org.springframework.stereotype.Service
import com.ktb.dcb.report.model.request.ReceiptReport

@Service
class GenerateReportService() {
    private val logo =
            "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"
    fun exec(receiptDetail: ReceiptReport): ResponseEntity<ByteArray> {
        receiptDetail.logo = logo
        val jasperStream =
                this::class.java.getResourceAsStream("/reports/receipt_template.jasper")
                        ?: throw IllegalArgumentException("Report template not found")

        val dataSource = JRBeanCollectionDataSource(listOf(receiptDetail))
        val parameters = mutableMapOf<String, Any>()

        val jasperPrint = JasperFillManager.fillReport(jasperStream, parameters, dataSource)

        val pdfBytes: ByteArray = JasperExportManager.exportReportToPdf(jasperPrint)

        return ResponseEntity.ok()
                .header(HttpHeaders.CONTENT_DISPOSITION, "inline; filename=billing.pdf")
                .contentType(MediaType.APPLICATION_PDF)
                .body(pdfBytes)
    }
}
